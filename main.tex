\documentclass
  [ acmsmall
  , pdftex
  , dvipsnames
  , review
  , nonacm
  , screen
  % , authordraft
  ]{acmart}

\usepackage[utf8]{inputenc}

% quiver is for quiver figures
% \usepackage{quiver}
\usepackage{tikz}
\usepackage{tikz-network}
\usepackage{xspace}
\usepackage{xargs}
\usepackage[
  colorinlistoftodos,
  prependcaption,
  % disable,
]{todonotes}
\usepackage{fontenc}

\usepackage{minted}

\usepackage{subcaption}

\usepackage{hyperref}

\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}

\usepackage{listings}
\lstset{
  columns=flexible,
  keepspaces=true,
  showstringspaces=false,
  stringstyle=\slshape\color{green!40!black},
  basicstyle=\ttfamily\small,
  language=Python,
  morekeywords={*, self},
  commentstyle=\slshape\color{black!60},
  tabsize=2,
}


\usepackage{adjustbox}

\input{preamble}
\input{macros}
\input{sample.tikzstyles}
\input{hypergraph.tikzstyles}
\input{hypergraph.tikzdefs}


\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\definecolor{americanrose}{rgb}{1.0, 0.01, 0.24}
\definecolor{atomictangerine}{rgb}{1.0, 0.6, 0.4}
\definecolor{azure}{rgb}{0.0, 0.5, 1.0}

% These are for comments
\newcommand\question[1]{{\color{azure}#1}}
\newcommand\update[1]{{\color{americanrose}#1}}

% \usepackage{mathtools,mathrsfs}
\usepackage{tikz-cd}
\usepackage{tikzit}

% for quotienting
% \usepackage{faktor}
\usepackage{xfrac} 

\usepackage{import}

% category names
\newcommand{\MdaCospans}{{\catname{MACsp_{D}(Hyp_{\Sigma})}}}

\newcommand{\Ecospans}{{\catname{ECsp_{D}(EHyp_{\Sigma})}}}
\newcommand{\MdaEcospans}{{\catname{MAECsp_{D}(EHyp_{\Sigma})}}}
\newcommand{\WellTypedMdaEcospans}{{\catname{\overline{MAECsp_{D}(EHyp_{\Sigma})}}}}

% There is already a remark in the preamble, but it does
% not work for some reason
\newtheorem{remark}{Remark}

\makeatletter
\newsavebox{\@brx}
\newcommand{\llangle}[1][]{\savebox{\@brx}{\(\m@th{#1\langle}\)}%
  \mathopen{\copy\@brx\kern-0.5\wd\@brx\usebox{\@brx}}}
\newcommand{\rrangle}[1][]{\savebox{\@brx}{\(\m@th{#1\rangle}\)}%
  \mathclose{\copy\@brx\kern-0.5\wd\@brx\usebox{\@brx}}}
\makeatother


\title{Equivalence Hypergraphs: E-Graphs for Monoidal Theories }
\author{Chris Barrett}
\author{Dan Ghica}
\author{Aleksei Tiurin}

\begin{document}



\begin{abstract}
Equivalence graphs (e-graphs), together with a technique called equality saturation, have recently proved a powerful and practical tool for optimization of programs.  We describe a categorical semantics for e-graphs over algebraic theories in terms of Cartesian categories enriched over a semilattice,  and define a natural generalization in terms of symmetric monoidal categories to account for monoidal theories,  with the aim of allowing optimization of a larger class of programs based on string diagrams.  We further develop a sound and complete combinatorial representation of morphisms in our category based on a generalization of hypergraphs,  which we call e-hypergraphs,  which factor out many structural equations.  Finally, we consider the question of efficient rewriting in our setting.
\end{abstract}

\maketitle


\input{sections/introduction}
\input{sections/categorical_semantics}
\input{sections/combinatorial_semantics}
\input{sections/soundness_and_completeness}
\input{sections/e-graph-translation}
\input{sections/conclusion}

\subsection*{Acknowledgements}
We are grateful to Sadrzadeh Mehrnoosh for enlightening discussions on potential applications of e-hypergraphs to computational linguistics. 

\bibliographystyle{acm}
\bibliography{bibliography}

\end{document}
