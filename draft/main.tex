% !TEX root = ../draft/main.tex

\documentclass
  [ acmsmall
  , pdftex
  , dvipsnames
  , review
  , nonacm
  , screen
  % , authordraft
  ]{acmart}

\usepackage[utf8]{inputenc}

% quiver is for quiver figures
% including quiver redefines \Bbbk which leads to an error
% \usepackage{quiver}

\usepackage{minted}

\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}

\usepackage{listings}
\lstset{
  columns=flexible,
  keepspaces=true,
  showstringspaces=false,
  stringstyle=\slshape\color{green!40!black},
  basicstyle=\ttfamily\small,
  language=Python,
  morekeywords={*, self},
  commentstyle=\slshape\color{black!60},
  tabsize=2,
}


\input{../preamble}
\input{../macros}
\input{../sample.tikzstyles}
\input{../hypergraph.tikzstyles}
\input{../hypergraph.tikzdefs}
\input{../tikzit.sty}


\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\definecolor{americanrose}{rgb}{1.0, 0.01, 0.24}
\definecolor{atomictangerine}{rgb}{1.0, 0.6, 0.4}
\definecolor{azure}{rgb}{0.0, 0.5, 1.0}

% These are for comments
\newcommand\question[1]{{\color{azure}#1}}
\newcommand\update[1]{{\color{americanrose}#1}}



\makeatletter
\newsavebox{\@brx}
\newcommand{\llangle}[1][]{\savebox{\@brx}{\(\m@th{#1\langle}\)}%
  \mathopen{\copy\@brx\kern-0.5\wd\@brx\usebox{\@brx}}}
\newcommand{\rrangle}[1][]{\savebox{\@brx}{\(\m@th{#1\rangle}\)}%
  \mathclose{\copy\@brx\kern-0.5\wd\@brx\usebox{\@brx}}}
\makeatother


\title{Equivalence Hypergraphs: E-Graphs for Monoidal Theories}
\author{Chris Barrett}
\author{Dan R. Ghica}
\author{Aleksei Tiurin}

\begin{document}



\begin{abstract}
The technique of equipping graphs with an equivalence relation, called equality saturation, has recently proved both powerful and practical in program optimisation, particularly for SMT solvers. 
We give a categorical semantics for \emph{e-graphs} over algebraic theories, a generalisation of the structures which are the subject of this technique, and to their rewriting. 
The proposed framework consists of Cartesian categories enriched over a semilattice,  further generalised to symmetric monoidal categories, to account for monoidal theories.
The aim is to permit the optimisation of a larger class of programs, based on string diagrams.  
Furthermore, we present a sound and complete combinatorial representation of morphisms in such a category, based on a generalisation of hypergraphs,  which we call \emph{e-hypergraphs}, which have the usual advantage that many structural equations are absorbed into a general notion of isomorphism. 
\end{abstract}

\maketitle


\input{sections/introduction}
\input{sections/categorical_semantics}
\input{sections/combinatorial_semantics}
\input{sections/soundness_and_completeness}
\input{sections/conclusion}

\subsection*{Acknowledgements}
We are grateful to Sadrzadeh Mehrnoosh for enlightening discussions on potential applications of e-hypergraphs to computational linguistics. 

\bibliographystyle{acm}
\bibliography{../bibliography}

\end{document}
