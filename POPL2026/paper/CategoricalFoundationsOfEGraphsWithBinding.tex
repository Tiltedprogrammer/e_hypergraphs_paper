\documentclass[acmsmall,screen, nonacm, review, anonymous]{acmart}


\usepackage{amsmath,amsfonts}
\usepackage{algorithmic}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor,soul}

\usepackage{amsthm}
\usepackage{hyperref}
\usepackage{stmaryrd}

\usepackage{mathtools}
\usepackage{tikz}
\usepackage{tikz-network}
\usepackage{xspace}
\usepackage{xargs}
\usepackage{fontenc}
\usepackage{csquotes}

\usepackage{subcaption}
\usepackage{caption}

\usepackage{tikz-cd}
\usepackage{tikzit}
% to reduce tikz picture white space
\usepackage{adjustbox}

% for quotienting
\usepackage{xfrac} 
\usepackage{wrapfig}

\usepackage{microtype}

% inference rules
\usepackage{mathpartir}

\newcommand{\ONECOLUMN}{}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{lemma}[theorem]{Lemma}

% change red to orange
\definecolor{e-color}{named}{orange}
\definecolor{closed-color}{named}{blue}


% some macros that maybe should be moved elsewhere

\newcommand\HypI[1]{\textbf{HypI}(#1)}
\newcommand\MdaCospans{\textbf{MHypI}(\Sigma)}
\newcommand{\Ecospans}{{\catname{EHypI(\Sigma)}}}
\newcommand{\MdaEcospans}{{\catname{MEHypI(\Sigma)}}}
\newcommand{\WellTypedMdaEcospans}{{\catname{MEHypI(\Sigma)}}}
% conflict
\newcommand{\hashtag}{{\#}}
\newcommand{\consistency}{{\smile}}

\input{../../macros}
\input{../../sample.tikzstyles}
\input{../../hypergraph.tikzstyles}
\input{../../hypergraph.tikzdefs}


\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}


\title{Categorical Foundations of E-Graphs With Binding}


\begin{document}

\begin{abstract}
	Equality saturation, a technique for program optimisation and reasoning, has gained attention due to the resurgence of equality graphs (e-graphs).
	E-graphs represent equivalence classes of terms under rewrite rules, enabling simultaneous rewriting across a family of terms.
	However, they struggle in domains like $\lambda$-calculus that involve variable binding, due to a lack of native support for bindings.
	Building on recent work interpreting e-graphs categorically as morphisms in symmetric monoidal semilattice-enriched categories, we extend this framework to closed symmetric monoidal semilattice-enriched categories to handle bindings.
	We provide a concrete combinatorial representation using an extension of hierarchical hypergraphs and introduce a corresponding double-pushout (DPO) rewriting mechanism.
	Finally, we establish the equivalence of term rewriting and DPO rewriting, with the key property that the combinatorial representation absorbs the equations of the symmetric monoidal structure.
\end{abstract}

\maketitle

\input{sections/introduction}
\input{sections/categorical_semantics}
\input{sections/combinatorial_semantics}
\input{sections/soundness}
\input{sections/lambda-calculus}

\section{Conclusion}
In this work we introduced e-graphs with bindings formalised as morphisms of a closed $\catname{SLat}$-SMC.
We then provided a combinatorial representation for such morphisms in terms of hierarchical hypergraphs (e-hypergraphs) with a suitable notion of sound and complete DPO rewriting, making it possible for an e-hypergraph to represent equivalences derivable from a set of equations $\mathcal{E}$.
An important future work is exploring whether such combinatorial structures may lead to better algorithmics for doing equality saturation for $\lambda$-calculus.

\bibliographystyle{ACM-Reference-Format}
\bibliography{../../bibliography}

\appendix

\input{sections/appendix}

\end{document}
